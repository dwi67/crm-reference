<?xml version='1.0' encoding='UTF-8'?>
<features xmlns="http://karaf.apache.org/xmlns/features/v1.3.0" name="hawtio-2.0.0.fuse-000145-redhat-1">

  <feature name="hawtio-core" version="2.0.0.fuse-000145-redhat-1">
    <details>Installs the core hawtio war file with minimal extensions</details>
    <feature>war</feature>
    <feature>aries-blueprint</feature>
    <bundle>mvn:io.hawt/hawtio-json-schema-mbean/2.0.0.fuse-000145-redhat-1</bundle>
    <bundle>mvn:io.hawt/hawtio-war/2.0.0.fuse-000145-redhat-1/war</bundle>

    <config name="jmx.acl.hawtio.plugin">
      * = *
    </config>
  </feature>

  <feature name="hawtio-rbac" version="2.0.0.fuse-000145-redhat-1">
    <details>Installs the hawtio RBAC enabler bundle(s)</details>
    <feature>management</feature>
    <bundle>mvn:io.hawt/hawtio-osgi-jmx/2.0.0.fuse-000145-redhat-1</bundle>
  </feature>

  <feature name="hawtio-log" version="2.0.0.fuse-000145-redhat-1">
    <details>Installs the hawtio logging</details>
    <feature>log</feature>
    <bundle>mvn:io.hawt/hawtio-log/2.0.0.fuse-000145-redhat-1</bundle>
    <bundle>mvn:io.hawt/hawtio-log-osgi/2.0.0.fuse-000145-redhat-1</bundle>
    <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-core/2.7.0</bundle>
    <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-annotations/2.7.0</bundle>
    <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-databind/2.7.0</bundle>
  </feature>

  <feature name="hawtio" version="2.0.0.fuse-000145-redhat-1">
    <details>Installs the main hawtio web console</details>
    <feature>hawtio-core</feature>
    <feature>hawtio-rbac</feature>
    <feature>hawtio-log</feature>
    <!--
    TODO: Is it required for v2?
    <feature>hawtio-maven-indexer</feature>
    -->
  </feature>

  <feature name="hawtio-offline" version="2.0.0.fuse-000145-redhat-1">
    <details>Installs hawtio in offline mode (without Maven service which requires internet connection)</details>
    <feature>hawtio-core</feature>
    <feature>hawtio-rbac</feature>
  </feature>

  <feature name="hawtio-maven-indexer" version="2.0.0.fuse-000145-redhat-1">
    <details>Installs the hawtio Maven indexer service as a separate bundle (requires internet connection)</details>
    <bundle>mvn:io.hawt/hawtio-maven-indexer/2.0.0.fuse-000145-redhat-1</bundle>
  </feature>

</features>
